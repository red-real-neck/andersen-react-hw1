{"version":3,"sources":["modules/Card/Card.jsx","services/BeerService.js","services/useForm.js","services/validateInfo.js","modules/RegistrationForm/RegistrationForm.jsx","App.js","index.js","modules/RegistrationForm/RegistrationForm.module.css","modules/Card/Card.module.css"],"names":["Card","state","isMoreVisible","this","setState","props","className","styles","card_wrapper","unvisable","main__active","img_wrapper","src","img","alt","name","abv","more","description","description__title","onClick","makeMoreVisible","btn","Component","BeerService","url","_url","getSomeBeers","bind","a","fetch","res","ok","Error","json","useForm","cb","validate","useState","fullName","age","email","password","values","setValues","errors","setErrors","firstRender","setFirstRender","useEffect","handleChange","e","Date","target","value","handleSubmit","preventDefault","validateInfo","trim","test","length","RegistrationForm","signUp","selectedDate","setSelectedDate","id","registration_wrapper","changeFormActive","form_wrapper","form","onSubmit","close","form_inputs","type","form_input","placeholder","onChange","selected","date","selectedDateHandler","minDate","maxDate","showYearDropdown","scrollableYearDropdown","placeholderText","form_input_btn","App","beerService","isLoaded","data","searchTerm","sortChecked","isFormOpen","then","console","log","filter","beer","toLowerCase","includes","sort","b","map","image_url","Object","keys","event","renderCards","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.a0c8bac3.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport styles from './Card.module.css';\n\nclass Card extends Component {\n    state = {\n        isMoreVisible: false\n    }\n\n    makeMoreVisible() {\n        this.setState({\n            isMoreVisible: !this.state.isMoreVisible\n        })\n    }\n    \n    render() {\n        const props = this.props;\n        return (\n            <>\n            <div className={styles.card_wrapper}>\n                <div className={this.state.isMoreVisible ? styles.unvisable : styles.main__active}>\n                    <div className={styles.img_wrapper}>\n                        <img src={props.img} alt=\"\" className={styles.img}/>\n                    </div>\n                    <div className={styles.name}>\n                        {props.name}\n                    </div>\n                    <div className={styles.abv}>\n                        vol: {props.abv}%\n                    </div>\n                </div>\n                <div className={ this.state.isMoreVisible ? styles.more : styles.unvisable}>\n                <div className={styles.description}>\n                    <span className={styles.description__title}>Description</span> <br/>\n                    {props.description}\n                </div>\n                </div>\n                <button onClick={() => {this.makeMoreVisible()}} className={styles.btn}>{this.state.isMoreVisible ? <span>Back</span> : <span>More details</span> }</button>\n                \n            </div>\n            </>\n        );\n    }\n}\n\nexport default Card;","export default class BeerService {\n    constructor(url) {\n      this._url = url;\n      this.getSomeBeers = this.getSomeBeers.bind(this);\n    }\n\n    async getSomeBeers() {\n      const res = await fetch(this._url);\n      if (!res.ok) {\n        throw new Error('Что-то пошло не так');\n      }\n      return await res.json();\n    }\n  }","import { useEffect, useState } from 'react';\n\nconst useForm = (cb, validate) => {\n    const [values, setValues] = useState({\n        fullName: '',\n        age: '',\n        email: '',\n        password: '',\n    });\n    const [errors, setErrors] = useState({});\n    const [firstRender, setFirstRender] = useState(true);\n\n\n\n    const handleChange = e => {\n        if (e === null) {\n            return;\n        }\n        if (e instanceof Date) {\n            setValues({\n                ...values,\n                age: e\n            });\n            setFirstRender(false);\n            return;\n        }\n        const { name, value } = e.target\n        setValues({\n            ...values,\n            [name]: value,\n        })\n        setFirstRender(false);\n    }\n\n    useEffect(() => {\n        if (firstRender) {\n            return;\n        }\n        cb(errors);\n    }, [errors]);\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        setErrors(validate(values));\n        setFirstRender(false);\n    }\n\n    return { handleChange, values, handleSubmit, errors };\n}\n\nexport default useForm;","export default function validateInfo(values) {\n    let errors = {};\n  \n    if (!values.fullName || !values.fullName.trim()) {\n      errors.fullName = 'Full name required';\n    }\n  \n    if (!values.email) {\n      errors.email = 'Email required';\n    } else if (!/\\S+@\\S+\\.\\S+/.test(values.email)) {\n      errors.email = 'Email address is invalid';\n    }\n\n    if(!values.age) {\n        errors.age = 'Age required';\n    } else if(values.age > new Date()) {\n      errors.age = 'Wow, are you from the future? I do not believe('\n    } else if(values.age > new Date() - 5.676e+11) {\n        errors.age = 'You are too young to be an alcoholic'\n    }\n\n    if (!values.password) {\n      errors.password = 'Password is required';\n    } else if (values.password.length < 6) {\n      errors.password = 'Password needs to be 6 characters or more';\n    }\n    return errors;\n  }","import useForm from '../../services/useForm'\nimport styles from './RegistrationForm.module.css';\nimport validate from '../../services/validateInfo';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { useState } from 'react';\n\nconst RegistrationForm = (props) => {\n\n    const { handleChange, values, handleSubmit, errors } = useForm((errors) => props.signUp(errors) ,validate);\n\n    const [selectedDate, setSelectedDate] = useState(null);\n\n    function selectedDateHandler(date) {\n        setSelectedDate(date);\n        handleChange(date);\n    }\n\n    return (\n        <div id='registration_wrapper' className={styles.registration_wrapper} onClick={(e) => props.changeFormActive(e)}>\n            <div className={styles.form_wrapper}>\n                <form className={styles.form} onSubmit={(e) => handleSubmit(e, props.signUp)}>\n                    <div id='close' className={styles.close}></div>\n                    <h1>Start drinking today</h1>\n                    <h2>Fill out the form and become an alcoholic...</h2>\n                    <div className={styles.form_inputs}>\n                        {errors.fullName && <p>{errors.fullName}</p>}\n                        <input\n                            id=\"fullName\"\n                            type=\"text\"\n                            name=\"fullName\"\n                            className={styles.form_input}\n                            placeholder=\"Full Name\"\n                            value={values.fullName}\n                            onChange={handleChange}\n                        />\n                    </div>\n\n                    <div className={styles.form_inputs}>\n                        {errors.age && <p>{errors.age}</p>}\n                        <DatePicker\n                            selected={selectedDate}\n                            onChange={date => selectedDateHandler(date)}\n                            name='age'\n                            value={selectedDate}\n                            minDate={new Date() - 3.154e+12}\n                            maxDate={new Date()}\n                            showYearDropdown\n                            scrollableYearDropdown\n                            placeholderText='Date Of Birth'\n                            className={styles.form_input}\n                        />\n                    </div>\n\n                    <div className={styles.form_inputs}>\n                        {errors.email && <p>{errors.email}</p>}\n                        <input\n                            id=\"email\"\n                            type=\"text\"\n                            name=\"email\"\n                            className={styles.form_input}\n                            placeholder=\"Email\"\n                            value={values.email}\n                            onChange={handleChange}\n                        />\n                    </div>\n\n                    <div className={styles.form_inputs}>\n                        {errors.password && <p>{errors.password}</p>}\n                        <input\n                            id=\"password\"\n                            type=\"password\"\n                            name=\"password\"\n                            className={styles.form_input}\n                            placeholder=\"Password\"\n                            value={values.password}\n                            onChange={handleChange}\n                        />\n                    </div>\n\n                    <button\n                        className={styles.form_input_btn}\n                        type=\"submit\"\n                        id='submit_btn'\n                        >\n                        Sign up\n                        </button>\n                </form>\n            </div>\n        </div>\n    );\n}\n\nexport default RegistrationForm;","import './App.css';\nimport { Component } from 'react';\nimport Card from './modules/Card/Card';\nimport BeerService from './services/BeerService';\nimport RegistrationForm from './modules/RegistrationForm/RegistrationForm';\n\nexport default class App extends Component {\n  beerService = new BeerService('https://api.punkapi.com/v2/beers/?per_page=80');\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      isLoaded: false,\n    data: null,\n    searchTerm: '',\n    sortChecked: false,\n    isFormOpen: false\n    }\n\n    this.changeFormActive = this.changeFormActive.bind(this);\n    this.signUp = this.signUp.bind(this);\n  }\n\n  componentDidMount() {\n    this.beerService.getSomeBeers()\n      .then(res => {\n        console.log(res);\n        this.setState({\n          data: res,\n          isLoaded: true\n        });\n      })\n  }\n\n  renderCards() {\n    if (!this.state.isLoaded) {\n      throw new Error('Пиво не доехало((');\n    }\n    const cards = this.state.data.filter(beer => {\n      if (this.state.searchTerm === '') {\n        return beer;\n      } else if (beer.name.toLowerCase().includes(this.state.searchTerm.toLowerCase())) {\n        return beer;\n      }\n    }).sort((a, b) => {\n      if (this.state.sortChecked) {\n        return a.abv - b.abv;\n      } else {\n        return b.abv - a.abv;\n      }\n    }).map((beer) => {\n      return <Card key={beer.name} name={beer.name} abv={beer.abv} description={beer.description} img={beer.image_url} />\n    })\n\n    return cards;\n  }\n\n  changeFormActive(e) {\n    if (e.target.id === 'registration_wrapper' || e.target.id === 'close' || e.target.id === 'sign_up_btn') {\n      this.setState({isFormOpen: !this.state.isFormOpen});\n      console.log(this.state.isFormOpen)\n    }\n    return;\n  }\n\n  signUp(errors) {\n    debugger;\n    if (Object.keys(errors).length === 0) {\n      this.setState({isFormOpen: !this.state.isFormOpen});\n    }\n  }\n\n\n  render() {\n    return (\n      <>\n        <div className=\"main_wrapper\">\n        <input type=\"text\" className=\"input\" placeholder=\"Search by beer's name...\" onChange={event => {this.setState({searchTerm: event.target.value})}}/>\n        <button id='sign_up_btn' className=\"sign_up_btn\" onClick={(e) => this.changeFormActive(e)}>Sign up</button>\n        <div className=\"sort_wrapper\">\n          <div className=\"sort_text\">Strong at first</div>\n          <input type=\"checkbox\" className=\"sort\" onChange={() => this.setState({sortChecked: !this.state.sortChecked})}/>\n          <div className=\"sort_text\">Not strong at first</div>\n        </div>\n          <div className='container'>\n            {this.state.isLoaded ? this.renderCards() : <div>loading...</div>}\n          </div>\n        </div>\n        <div className=\"form\">\n          {this.state.isFormOpen ? <RegistrationForm signUp={this.signUp} changeFormActive={this.changeFormActive}/> : null}\n        </div>\n      </>\n    )\n  }\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"registration_wrapper\":\"RegistrationForm_registration_wrapper__izXX3\",\"form_wrapper\":\"RegistrationForm_form_wrapper__38JoA\",\"form\":\"RegistrationForm_form__j8nJn\",\"form_label\":\"RegistrationForm_form_label__zTtXf\",\"form_inputs\":\"RegistrationForm_form_inputs__2sPv2\",\"form_input\":\"RegistrationForm_form_input__-8PS6\",\"form_input_btn\":\"RegistrationForm_form_input_btn__3JphG\",\"close\":\"RegistrationForm_close__3BOcS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card_wrapper\":\"Card_card_wrapper__mJF7z\",\"unvisable\":\"Card_unvisable__1IoZl\",\"main__active\":\"Card_main__active__1O55R\",\"img_wrapper\":\"Card_img_wrapper__YaGLc\",\"name\":\"Card_name__3srr3\",\"abv\":\"Card_abv__3gui3\",\"description\":\"Card_description__12Tfj\",\"description__title\":\"Card_description__title__1trB5\",\"btn\":\"Card_btn__9qCSx\"};"],"sourceRoot":""}